(()=>{var ct=Object.defineProperty,dt=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var st=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var at=(S,t,e)=>t in S?ct(S,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[t]=e,j=(S,t)=>{for(var e in t||(t={}))pt.call(t,e)&&at(S,e,t[e]);if(st)for(var e of st(t))ht.call(t,e)&&at(S,e,t[e]);return S},it=(S,t)=>dt(S,ut(t));var X=class{constructor(t,{sidebar:e,container:o}){this.normalize=t.normalize,this.sidebar=t.sidebar,this.filter=t.Filter,this.getSplitPattern=t.getSplitPattern,this.talentPool=t.talentPool||[],this.filteredData=this.filter.filteredData,this.container=o,this.totalCountElement=null,this.groupCountsContainer=null,this.initUI(),setTimeout(()=>this.appendCounterToSidebar(),0),this.sidebar.on("onChange",n=>{this.storedValue=n,this.applyFilters()}),this.labels=t.labels||{},this.reset()}applyFilters(){this.updateCounter()}updateCounter(){var u,r;let t=this.normalize.bind(this),e=["t_procedure_txt","custom_talent_category","t_experience_level","t_desired_region_1","t_desired_salary"],o=this.storedValue||{},n=this.filter.prepareFilterValues(o),i=this.filter.filteredData,d=this.computeCounts(this.talentPool,e,t),c=this.computeCounts(i,e,t,n),l=j(j({},d),c),a=i.length||this.talentPool.length;(r=(u=this.sidebar)==null?void 0:u.parent)!=null&&r.counter&&this.sidebar.parent.counter.update({total:a,groupCounts:l});let h={};for(let p in l)Object.assign(h,l[p]);this.updateGroupCategoryCounts(h),this.updateNestedGroupCounts(h)}computeCounts(t,e,o,n={}){var d,c,l,a;let i={};for(let h of e){let u=(n[h]||[]).map(o),r={};for(let p of t){let s=p.properties[h];if(!s)continue;let m=this.getSplitPattern(s),f=s.split(m).map(o).filter(Boolean),b=o(s);for(let x of f){let v=!1;if(h==="custom_talent_category"&&((c=(d=this.sidebar)==null?void 0:d.parent)!=null&&c.custom_talent_category)){let q=this.sidebar.parent.custom_talent_category.group;for(let B in q){let T=q[B];if(T.type==="group"&&T.group){for(let G in T.group){let U=T.group[G];if(U.type==="simple"&&U.values&&U.values.some(nt=>o(nt)===x)){v=!0;break}}if(v)break}}}let k=this.normalize(x);v?!k.includes("_")&&this.shouldCount(k,u,b)&&(r[k]=(r[k]||0)+1):this.shouldCount(k,u,b)&&(r[k]=(r[k]||0)+1)}if(!f.includes(b)){let x=!1;if(h==="custom_talent_category"&&((a=(l=this.sidebar)==null?void 0:l.parent)!=null&&a.custom_talent_category)){let v=this.sidebar.parent.custom_talent_category.group;for(let k in v){let q=v[k];if(q.type==="group"&&q.group){for(let B in q.group){let T=q.group[B];if(T.type==="simple"&&T.values&&T.values.some(G=>o(G)===b)){x=!0;break}}if(x)break}}}x?!b.includes("_")&&this.shouldCount(b,u,b)&&(r[b]=(r[b]||0)+1):this.shouldCount(b,u,b)&&(r[b]=(r[b]||0)+1)}}if(u.length>0&&(this.sidebar.sidebar.querySelectorAll(`[data-key="${h}"] input[type="checkbox"]`).forEach(s=>{let m=o(s.value);m in r||(r[m]=0)}),u.forEach(s=>{s in r||(r[s]=0)})),h==="custom_talent_category"&&this.sidebar.parent&&this.sidebar.parent.custom_talent_category){let p=this.sidebar.parent.custom_talent_category.group;for(let s in p){let m=p[s];if(m.type==="group"&&m.group)for(let f in m.group){let b=m.group[f];if(b.values)b.values.forEach(x=>{let v=o(x);if(!(v in r)){let k=0;for(let q of t){let B=q.properties[h];if(!B)continue;let T=this.getSplitPattern(B),G=B.split(T).map(o).filter(Boolean),U=o(B);(G.includes(v)||U===v)&&this.shouldCount(v,u,U)&&k++}r[v]=k}});else if(b.type==="simple"){let x=o(f);if(!(x in r)){let v=0;for(let k of t){let q=k.properties[h];if(!q)continue;let B=this.getSplitPattern(q),T=q.split(B).map(o).filter(Boolean),G=o(q);(T.includes(x)||G===x)&&this.shouldCount(x,u,G)&&v++}r[x]=v}}}}}i[h]=r}return i}shouldCount(t,e,o){var i,d;let n=!1;if((d=(i=this.sidebar)==null?void 0:i.parent)!=null&&d.custom_talent_category){let c=this.sidebar.parent.custom_talent_category.group;for(let l in c){let a=c[l];if(a.type==="group"&&a.group){for(let h in a.group){let u=a.group[h];if(u.type==="simple"&&u.values&&u.values.some(r=>this.normalize(r)===t)){n=!0;break}}if(n)break}}}return n?e.length===0||e.includes(t):e.length===0||e.includes(t)||o===t}initUI(){this.totalCountElement=this.sidebar.sidebar.querySelector(".total-count"),this.totalCountElement}update({total:t=0,groupCounts:e={}}){this.totalCountElement.textContent=`${t} ${this.labels.counterLabel}`,this.sidebar.sidebar.querySelectorAll("[data-counter-label]").forEach(n=>{var c;let i=n.getAttribute("data-counter-label"),d=0;for(let l in e)if(((c=e[l])==null?void 0:c[i])!=null){d=e[l][i];break}n.textContent=` (${d})`})}hideZeroLabelsOnLoad(){this.sidebar.sidebar.querySelectorAll(".talent-pool-checkboxes").forEach(e=>{let o=e.querySelectorAll("[data-counter-label]"),n=!1;o.forEach(i=>{let d=i.textContent.match(/\((\d+)\)/),c=d?parseInt(d[1]):0,l=i.closest(".talent-pool-checkbox");l&&(l.style.display=c===0?"none":"",c>0&&(n=!0))}),e.style.display=n?"":"none"})}appendCounterToSidebar(){var l;if(!((l=this.sidebar)!=null&&l.sidebar))return;this.sidebar.sidebar.querySelectorAll('input[type="checkbox"]').forEach(a=>{let h=a.value,u=a.nextElementSibling;if(!u||u.querySelector(".talent-pool-counter-label"))return;let r=document.createElement("span");r.setAttribute("data-counter-label",this.normalize(h)),r.classList.add("talent-pool-counter-label"),u.appendChild(r)}),this.updateCounter(),this.hideZeroLabelsOnLoad();let e=this.normalize.bind(this),o=["t_procedure_txt","custom_talent_category","t_experience_level","t_desired_region_1","t_desired_salary"],n=this.computeCounts(this.talentPool,o,e),i={};for(let a in n)Object.assign(i,n[a]);this.updateGroupCategoryCounts(i),this.updateNestedGroupCounts(i);let d=this.sidebar.sidebar.querySelectorAll(".talent-pool-checkboxes"),c=Object.values(this.storedValue||{}).some(a=>Array.isArray(a)?a.length>0:typeof a=="object"?Object.values(a).some(h=>Array.isArray(h)&&h.length>0):!1);d.forEach(a=>{let h=a.querySelectorAll(".talent-pool-checkbox"),u=!1;h.forEach(r=>{let p=r.querySelector("[data-counter-label]"),s=p==null?void 0:p.textContent.match(/\((\d+)\)/),m=s?parseInt(s[1]):0;c?(r.style.display="",u=!0):(r.style.display=m>0?"":"none",m>0&&(u=!0))}),a.style.display=u?"":"none"})}updateGroupCategoryCounts(t={}){document.querySelectorAll(".talent-pool-checkbox-input").forEach(o=>{let n=o.nextElementSibling,i=o.closest(".talent-pool-checkboxes"),d=i==null?void 0:i.querySelector(".dropdown-container");if(!d)return;let c=0;d.querySelectorAll('input[type="checkbox"]').forEach(h=>{let u=this.normalize(h.value);c+=t[u]||0});let a=n.querySelector(".talent-pool-counter-label");a&&(a.textContent=` (${c})`)})}updateNestedGroupCounts(t={}){if(this.sidebar.parent&&this.sidebar.parent.custom_talent_category){let e=this.sidebar.parent.custom_talent_category.group;for(let o in e){let n=e[o];if(n.type==="group"&&n.group){let i=document.getElementById(`talent-pool-custom_talent_category-${o}`);if(i){let d=i.nextElementSibling,c=0;for(let l in n.group){let a=n.group[l],h=0;if(a.values)a.values.forEach(r=>{let p=this.normalize(r);h+=t[p]||0});else if(a.type==="simple"){let r=this.normalize(l);h+=t[r]||0}c+=h;let u=document.getElementById(`talent-pool-custom_talent_category-${o}-${l}`);if(u){let p=u.nextElementSibling.querySelector(".talent-pool-counter-label");p&&(p.textContent=` (${h})`)}a.values&&a.type!=="simple"&&a.values.forEach(r=>{let p=this.normalize(r),s=document.querySelector(`input[value="${r}"]`);if(s){let m=s.nextElementSibling,f=m==null?void 0:m.querySelector(".talent-pool-counter-label");f&&(f.textContent=` (${t[p]||0})`)}})}this.sidebar.updateParentGroupCounter&&this.sidebar.updateParentGroupCounter("custom_talent_category",o)}}}}this.sidebar.updateAllParentGroupCounters&&setTimeout(()=>{this.sidebar.updateAllParentGroupCounters()},10)}setFilteredData(t){this.filteredData=t,this.filter.filteredData=t,this.updateCounter()}reset(){this.appendCounterToSidebar()}};var Z=class{constructor(t,{sidebar:e,container:o}){if(this.normalize=t.normalize,this.sidebar=t.sidebar,this.filter=t.Filter,this.counter=t.Counter,this.getSplitPattern=t.getSplitPattern,this.talentPool=t.talentPool||[],this.filteredData=this.filter.filteredData,this.container=o,this.searchData=t.searchData,this.currentSortValue="default",this.originalOrder=[...this.filter.filteredData],this.SortingUI(),this.attachSortHandler(),this.reset(),this.sidebar.on("onChange",()=>{this.originalOrder=[...this.filter.filteredData],this.applySorting()}),this.filter&&typeof this.filter.applySearch=="function"){let n=this.filter.applySearch.bind(this.filter);this.filter.applySearch=(i,d)=>{n(i,c=>{this.originalOrder=[...this.filter.filteredData],this.applySorting(),typeof d=="function"&&d(c)})}}}attachSortHandler(){let t=document.getElementById("talent-pool-sort-select");if(!t){setTimeout(()=>{this.attachSortHandler()},150);return}t.addEventListener("change",()=>{this.currentSortValue=t.value,this.applySorting()})}applySorting(){let t=[];switch(this.currentSortValue){case"asc":t=[...this.filter.filteredData].sort((e,o)=>{let n=parseFloat(e.properties.t_desired_salary)||0,i=parseFloat(o.properties.t_desired_salary)||0;return n-i});break;case"desc":t=[...this.filter.filteredData].sort((e,o)=>{let n=parseFloat(e.properties.t_desired_salary)||0;return(parseFloat(o.properties.t_desired_salary)||0)-n});break;default:t=[...this.originalOrder]}this.filter.filteredData=t,this.filter.currentPage=1,this.filter.currentChunk=0,this.filter.render()}SortingUI(){let t=document.querySelector(".talent-pool-filter-right-content");if(!t){setTimeout(()=>{this.SortingUI()},100);return}let e=document.createElement("div");e.classList.add("talent-pool-sorting-container");let o=document.createElement("select");o.classList.add("talent-pool-sort-select"),o.id="talent-pool-sort-select",[{value:"default",label:"Standard"},{value:"asc",label:"Salary Ascending"},{value:"desc",label:"Salary Descending"}].forEach(i=>{let d=document.createElement("option");d.value=i.value,d.textContent=i.label,o.appendChild(d)}),e.appendChild(o),t.insertBefore(e,t.children[1])}reset(){let t=document.querySelector("#talent-pool-sort-select");t&&(t.value="default",this.currentSortValue="default",this.applySorting())}};var Q=class{constructor(t={}){this.container=t.container,this.sidebar=t.sidebar,this.talentPool=t.talentPool||[],this.storedValue=t.storedValue||{},this.normalize=t.normalize,this.getSplitPattern=t.getSplitPattern,this.Counter=t.Counter,this.dataSort=t.dataSort,this.filteredData=[],this.labels=t.labels||{},this.formateCurrency=t.formateCurrency,this.InnerPageLink=t.InnerPageLink,this.itemsPerPageShow=t.itemsPerPageShow,Object.assign(this,{itemsPerPageShow:this.itemsPerPageShow,currentPage:1}),this.paginationUI(),this.sidebar.on("onChange",e=>{this.storedValue=e,this.applyFilters()}),setTimeout(()=>{this.setupSearchInput()},2),this.reset()}paginationUI(){this.rightContent=this.createElement("div","talent-pool-filter-right-content",this.container),this.loadingTextElement=this.createElement("div","talent-pool-loading-text",this.rightContent),this.boxContainer=this.createElement("div","talent-pool-filter-box",this.rightContent);let t=this.createElement("div","pagination_contain",this.rightContent);this.paginationControls=this.createElement("div","pagination-controls",t)}createElement(t,e,o){let n=document.createElement(t);return e&&n.classList.add(e),o&&o.appendChild(n),n}updateData(t){this.talentPool=t,this.filteredData=t,this.applyFilters(),this.boxContainer.innerHTML="",setTimeout(()=>{document.getElementById("search")||this.setupSearchInput()},1)}prepareFilterValues(t){let e={};for(let o in t){let n=t[o];if(!(o==="t_desired_salary"&&typeof n=="object"&&n.minValue!==void 0&&n.maxValue!==void 0))if(typeof n=="object"&&!Array.isArray(n)){let i=[];for(let d in n){let c=n[d];if(typeof c=="object"&&!Array.isArray(c))for(let l in c){let a=c[l];Array.isArray(a)&&i.push(...a)}else Array.isArray(c)&&i.push(...c)}e[o]=i}else e[o]=Array.isArray(n)?[...n]:Object.values(n).flat()}return e}applySalaryFilter(t,e){return!e||e.minValue===void 0||e.maxValue===void 0?t:t.filter(o=>{var i;let n=Number((i=o.properties)==null?void 0:i.t_desired_salary);return isNaN(n)||n>=e.minValue&&n<=e.maxValue})}applyFilters(){let t=this.storedValue;if(!t||typeof t!="object"){this.filteredData=this.talentPool;return}let e=[...this.talentPool];this.storedValue.t_desired_salary&&(e=this.applySalaryFilter(e,this.storedValue.t_desired_salary));let o=this.prepareFilterValues(t),n=new Set,i=[];if(!Object.values(o).some(c=>Array.isArray(c)&&c.length>0))this.filteredData=e;else{for(let c in o)o[c].map(this.normalize).forEach(a=>{e.forEach(h=>{var x,v;let u=h.properties[c];if(!u)return;let r=this.getSplitPattern(u),p=u.split(r).map(this.normalize).filter(Boolean),s=this.normalize(u),m=!1,f=!1;if(c==="custom_talent_category"&&((v=(x=this.sidebar)==null?void 0:x.parent)!=null&&v.custom_talent_category)){let k=this.sidebar.parent.custom_talent_category.group;for(let q in k){let B=k[q];if(B.type==="group"&&B.group){for(let T in B.group){let G=B.group[T];if(G.type==="simple"&&G.values&&G.values.some(U=>this.normalize(U)===a)){f=!0;break}}if(f)break}}}f?s===a?m=!0:m=p.some(k=>k.replace(/_[a-z]+$/i,"")===a&&!k.includes("_")):m=s===a||p.includes(a);let b=h.id||JSON.stringify(h.properties);m&&!n.has(b)&&(i.push(h),n.add(b))})});this.filteredData=i.length>0?i:[]}this.currentPage=1,this.render()}renderCard(t){let e=document.createElement("div");e.classList.add("talent-pool-card-box");let{t_current_position:o,t_maincategory:n,t_experience_level:i,t_city:d,t_desired_salary:c,t_candidate_id:l}=t.properties,a=`${this.InnerPageLink}/${l}`;e.innerHTML=`
            <div class="talent-pool-card-inner">
                <div class="talent_box_content">
                    <h5><a target="_blank" href="${a}" class="position">${o}</a></h5>
                    <span class="maincategory"><div>${n}</div></span>
                </div>
                <div class="talent_box_inner_content">
                    <div class="talent_box_inner_left">
                        <span><b>Experience Level:</b> ${i}</span>
                        <span><b>City:</b> ${d}</span>
                        <span><b>Salary:</b> ${this.formateCurrency(c,"\u20B9 Per Month")}</span>
                    </div>
                    <div class="talent_box_btn">
                       <a target="_blank" class="btn btn:secondary" href="${a}">Learn More</a>
                    </div>
                </div>
            </div>
        `,this.boxContainer.appendChild(e)}render(){this.renderPage(),this.renderPaginationControls()}renderPage(){if(this.boxContainer.innerHTML="",this.filteredData.length===0){let o=document.createElement("h5");o.classList.add("no-results-message"),o.textContent=`${this.labels.NoDataContent}`,this.boxContainer.innerHTML="",this.boxContainer.appendChild(o)}let t=(this.currentPage-1)*this.itemsPerPageShow,e=t+this.itemsPerPageShow;this.filteredData.slice(t,e).forEach(o=>this.renderCard(o))}getTotalPages(){return Math.ceil(this.filteredData.length/this.itemsPerPageShow)}renderPaginationControls(){let t=this.getTotalPages(),e=this.currentPage,o=this.paginationControls;if(o.innerHTML="",this.filteredData.length===0){o.style.display="none";return}o.style.display="block";let n=(a,h,u,r="")=>{let p=this.createElement("button",r,o);p.textContent=a,p.disabled=h,p.onclick=u};n(`\u2039 ${this.labels.prevLabel}`,e===1,()=>{this.currentPage--,this.render()});let i=5,d=Math.floor(i/2),c=Math.max(1,e-d),l=Math.min(t,e+d);e<=d&&(l=Math.min(t,i)),e+d>t&&(c=Math.max(1,t-i+1),l=t),c>1&&(this.createElement("span","ellipsis",o).textContent="\u2026");for(let a=c;a<=l;a++){let h=this.createElement("button","pagination-btn",o);h.textContent=a,a===e&&h.classList.add("active"),h.onclick=()=>{this.currentPage=a,this.render()}}l<t&&(this.createElement("span","ellipsis",o).textContent="\u2026"),n(`${this.labels.nextLabel} \u203A`,e===t,()=>{this.currentPage++,this.render()})}createPaginationButton(t,e,o){let n=this.createElement("button","",this.paginationControls);n.textContent=t,n.disabled=e,n.onclick=o}nextPageGroup(){let t=this.getTotalPages();if(this.currentPage<t){this.currentPage++;let e=(this.currentChunk+1)*this.pageChunkSize;this.currentPage>e&&this.currentChunk++,this.render()}}prevPageGroup(){if(this.currentPage>1){this.currentPage--;let t=this.currentChunk*this.pageChunkSize+1;this.currentPage<t&&this.currentChunk--,this.render()}}applySearch(t,e){let o=this.normalize(t),n=["t_procedure_txt","custom_talent_category","t_experience_level","t_desired_region_1"];o?this.filteredData=this.talentPool.filter(i=>n.some(d=>{let c=i.properties[d];if(!c)return!1;let l=this.getSplitPattern(c);return c.split(l).map(h=>this.normalize(h)).some(h=>h.includes(o))})):this.filteredData=this.talentPool,this.currentPage=1,this.currentChunk=0,this.render(),this.Counter&&this.Counter.updateCounter(),typeof e=="function"&&e(this.filteredData)}setupSearchInput(){function t(d,c){let l;return function(...a){clearTimeout(l),l=setTimeout(()=>d.apply(this,a),c)}}let e=document.getElementById("search");if(!e)return;let o=t(d=>{let c=d.target.value.trim();document.querySelectorAll('.talent-pool-filter-sidebar input[type="checkbox"]').forEach(h=>{h.checked=!1}),document.querySelectorAll('.talent-pool-filter-sidebar input[type="checkbox"].indeterminate').forEach(h=>{h.classList.remove("indeterminate"),h.indeterminate=!1}),this.applySearch(c)},3);e.addEventListener("input",o),document.querySelector(".talent-pool-filter-sidebar").addEventListener("change",d=>{d.target.type==="checkbox"&&(e.value="")});let i=document.getElementById("add-data")}reset(){this.updateData(this.talentPool),this.render();let t=document.getElementById("search");t.value=""}};var J=class{constructor(t){this.options=t,this.reset()}on(t,e){t==="change"&&(this.changeCallback=e)}emit(t,e){t==="change"&&this.changeCallback&&this.changeCallback(e)}getValue(){return{minValue:this.minValue,maxValue:this.maxValue}}progressUpdate(){let t=this.options.max-this.options.min,e=(this.minValue-this.options.min)/t*100,o=(this.maxValue-this.options.min)/t*100;this.progress.style.left=`${e}%`,this.progress.style.right=`${100-o}%`,this.tooltipMin.style.left=`${e}%`,this.tooltipMax.style.left=`${o}%`;let n=this.options.formateCurrency?this.options.formateCurrency(this.minValue):`${this.minValue}\u20B9`,i=this.options.formateCurrency?this.options.formateCurrency(this.maxValue):`${this.maxValue}\u20B9`;this.tooltipMin.innerText=n,this.tooltipMax.innerText=i,this.tooltipMin.style.transform="translateX(-50%)",this.tooltipMax.style.transform="translateX(-50%)",Math.abs(e-o)<=5?(this.tooltipMin.style.top="-60px",this.tooltipMax.style.top="-35px"):(this.tooltipMin.style.top="-35px",this.tooltipMax.style.top="-35px"),this.minValue>this.maxValue?(this.tooltipMin.style.zIndex=2,this.tooltipMax.style.zIndex=1):(this.tooltipMin.style.zIndex=1,this.tooltipMax.style.zIndex=2)}initialize(){let t=document.createElement("h3");t.classList.add("range-title"),t.innerHTML="Salary Expectations / Fee";let e=document.createElement("div");e.classList.add("range-input");let o=document.createElement("div");o.classList.add("slider");let n=document.createElement("div");n.classList.add("progress"),this.minValue=this.options.defaultMin,this.maxValue=this.options.defaultMax,o.appendChild(n),e.appendChild(o),this.progress=n;let i=document.createElement("div");i.classList.add("range-label");let d=this.options.formateCurrency?this.options.formateCurrency(this.options.min):`${this.options.min}\u20B9`,c=this.options.formateCurrency?this.options.formateCurrency(this.options.max):`${this.options.max}\u20B9`;i.innerHTML=`<span class="min">${d}</span> - <span class="max">${c}</span>`,e.appendChild(i);let l=document.createElement("div");l.classList.add("tooltip-wrapper");let a=document.createElement("span");a.classList.add("tooltip-min");let h=this.options.formateCurrency?this.options.formateCurrency(this.options.defaultMin):`${this.options.defaultMin}\u20B9`;a.innerText=h,l.appendChild(a),this.tooltipMin=a;let u=document.createElement("span");u.classList.add("tooltip-max");let r=this.options.formateCurrency?this.options.formateCurrency(this.options.defaultMax):`${this.options.defaultMax}\u20B9`;u.innerText=r,l.appendChild(u),this.tooltipMax=u,e.appendChild(l);let p=document.createElement("input");p.type="range",p.classList.add("range-min"),p.min=this.options.min,p.max=this.options.max,p.value=this.options.defaultMin,e.appendChild(p),this.minInput=p,p.addEventListener("input",f=>{this.onChange("min",f)}),p.addEventListener("change",f=>{this.emit("change",this.getValue())});let s=document.createElement("input");s.type="range",s.classList.add("range-max"),s.min=this.options.min,s.max=this.options.max,s.value=this.options.defaultMax,e.appendChild(s),this.maxInput=s,s.addEventListener("input",f=>{this.onChange("max",f)}),s.addEventListener("change",f=>{this.emit("change",this.getValue())});let m=document.createElement("div");return m.classList.add("range-slider-wrapper"),m.appendChild(t),m.appendChild(e),this.container=e,this.progressUpdate(),this.emit("change",this.getValue()),m}onChange(t,e){let o=this.options.step||1;if(e.target.value%o!==0&&(e.target.value=Math.round(e.target.value/o)*o),t==="min"){let n=parseInt(e.target.value,10);n+this.options.gap<=this.maxValue?(this.minValue=n,this.progressUpdate()):e.target.value=this.minValue}else if(t==="max"){let n=parseInt(e.target.value,10);n-this.options.gap>=this.minValue?(this.maxValue=n,this.progressUpdate()):e.target.value=this.maxValue}}reset(){var e,o;this.minValue=(e=this.options.defaultMin)!=null?e:this.options.min,this.maxValue=(o=this.options.defaultMax)!=null?o:this.options.max,this.minInput&&(this.minInput.value=this.minValue),this.maxInput&&(this.maxInput.value=this.maxValue);let t=this.options.formateCurrency||(n=>`${n}\u20B9`);this.tooltipMin&&(this.tooltipMin.innerText=t(this.minValue)),this.tooltipMax&&(this.tooltipMax.innerText=t(this.maxValue)),this.progress&&this.tooltipMin&&this.tooltipMax&&this.progressUpdate(),this.emit("change",this.getValue())}};var Y=!1;function lt(S){let t=document.createElement("button");t.classList.add("talent-pool-popup-button"),t.textContent=S.popupTitle||"Subscribe our TalentPool";let e=document.body;function o(i,d){var l,a;let c=((a=(l=d.parent)==null?void 0:l.custom_talent_category)==null?void 0:a.group)||{};return Object.values(c).some(h=>h.group?Object.values(h.group).some(u=>{var r;return(r=u.values)==null?void 0:r.includes(i)}):!1)}function n(i,d){Y=!0;let c=i.closest(".talent-pool-popup-inner-wrapper")||i.closest(".talent-pool-sidebar"),l=(c==null?void 0:c.querySelectorAll('.talent-pool-checkboxes[data-key="custom_talent_category"]'))||[],a=i.getAttribute("data-group-key"),h="custom_talent_category";l.forEach(r=>{let p=r.getAttribute("data-group-key");if(p!==a){if(r.classList.contains("popup-transformed")){let s=r.querySelector(".talent-pool-checkbox-input");s&&(s.checked=!1,s.indeterminate=!1,s.classList.remove("indeterminate")),r.querySelectorAll('.popup-subgroups input[type="checkbox"]').forEach(f=>f.checked=!1)}else{let s=r.querySelector(".talent-pool-checkbox-input");s&&(s.checked=!1,s.indeterminate=!1,s.classList.remove("indeterminate")),r.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type="checkbox"]').forEach(f=>f.checked=!1)}d[h]&&(d[h][p]=[])}});let u=new CustomEvent("PopupValueStored",{detail:d});document.dispatchEvent(u),setTimeout(()=>{Y=!1},0)}t.addEventListener("click",()=>{e.classList.add("open-popup");let i=document.createElement("div");i.classList.add("talent-pool-popup-container"),i.classList.add("popup");let d=document.createElement("div");d.classList.add("talent-pool-popup-inner-wrapper"),i.appendChild(d);let c=S.sidebar.cloneNode(!0),l=S.parent.createCloseButton();d.appendChild(l);let a=c.querySelector(".talent-pool-contain");a&&a.remove(),c.querySelectorAll(".talent-pool-counter-label").forEach(g=>{g.remove()});let u=c.querySelector(".range-title");u&&u.remove(),c.querySelectorAll(".range-input , .talent-pool-popup-button").forEach(g=>{g.remove()});let p=c.querySelector(".cobalt_search");p&&p.remove();let s={};function m(g,C){s[g]=s[g]||{},s[g][C]=s[g][C]||[]}let f=c.querySelectorAll(".talent-pool-checkboxes"),b=c.querySelectorAll('.talent-pool-checkboxes[data-key="custom_talent_category"]');c.querySelectorAll(".talent-pool-nested-group").forEach(g=>{let C=g.getAttribute("data-key"),y=g.getAttribute("data-group-key"),$=g.querySelector(".talent-pool-checkbox-input"),F=g.querySelector("label");$&&$.id&&($.id=`popup-${$.id}`),F&&F.htmlFor&&(F.htmlFor=`popup-${F.htmlFor}`),g.querySelectorAll(".talent-pool-nested-subgroup .talent-pool-dropdown-button").forEach(P=>{P.remove()}),g.querySelectorAll(".talent-pool-nested-subgroup .dropdown-container").forEach(P=>{P.remove()}),g.querySelectorAll(".talent-pool-nested-subgroup").forEach(P=>{P.remove()});let w=document.createElement("div");if(w.classList.add("talent-pool-checkbox-group-wrapper","dropdown-container","nested","popup-subgroups"),S.parent&&S.parent.custom_talent_category&&S.parent.custom_talent_category.group[y]){let P=S.parent.custom_talent_category.group[y];P.type==="group"&&P.group&&Object.keys(P.group).forEach(A=>{let M=P.group[A],L=document.createElement("div");L.classList.add("talent-pool-checkbox"),L.setAttribute("data-subgroup-key",A);let V=document.createElement("input");V.type="checkbox",V.value=M.name||A,V.id=`popup-talent-pool-${C}-${y}-${A}`;let I=document.createElement("label");I.htmlFor=V.id,I.textContent=M.name||A,L.appendChild(V),L.appendChild(I),w.appendChild(L)})}$&&($.style.display="block"),F&&(F.style.display="block"),g.appendChild(w),$&&$.addEventListener("change",()=>{if(Y)return;let P=$.checked;n(g,s);let A=w.querySelectorAll('input[type="checkbox"]');$.classList.remove("indeterminate"),$.indeterminate=!1,s[C]=s[C]||{},s[C][y]=s[C][y]||[],s[C][y]=[],A.forEach(M=>{var V;M.checked=P;let L=(V=M.closest(".talent-pool-checkbox"))==null?void 0:V.getAttribute("data-subgroup-key");if(P){let I=L;if(S.parent&&S.parent.custom_talent_category&&S.parent.custom_talent_category.group[y]){let z=S.parent.custom_talent_category.group[y].group[L];z&&z.name&&(I=z.name)}s[C][y].push(I)}})}),g.classList.add("popup-transformed")});let v=new J(S.rangeSliderOption),k=v.initialize();c.appendChild(k);let q=v.getValue();s.t_desired_salary={minValue:q.minValue,maxValue:q.maxValue},v.on("change",g=>{s.t_desired_salary={minValue:g.minValue,maxValue:g.maxValue};let C=new CustomEvent("PopupValueStored",{detail:s});document.dispatchEvent(C)});let B=c.querySelectorAll(".talent-pool-nested-group.popup-transformed");B.forEach(g=>{var E,O,R;let C=g.getAttribute("data-key"),y=g.getAttribute("data-group-key"),$=g.querySelectorAll('.popup-subgroups input[type="checkbox"]');m(C,y);let F=S.sidebar.querySelector(`.talent-pool-nested-group[data-key="${C}"][data-group-key="${y}"]`);if(F){let w=F.querySelector(".dropdown-container"),P=new Set,A=(R=(O=(E=S.parent)==null?void 0:E.custom_talent_category)==null?void 0:O.group)==null?void 0:R[y];(A==null?void 0:A.type)==="group"&&A.group&&Object.keys(A.group).forEach(L=>{var _;let V=A.group[L],I=!1;if(V.type==="simple"){let D=`input[type="checkbox"][value="${(_=V.values)==null?void 0:_[0]}"]`,N=F.querySelector(D);N!=null&&N.checked&&(I=!0)}else((w==null?void 0:w.querySelectorAll(`[data-subgroup-key="${L}"]`))||[]).forEach(D=>{let N=V.values||[];Array.from(D.querySelectorAll('input[type="checkbox"]:checked')).map(H=>H.value).some(H=>N.includes(H))&&(I=!0)});I&&P.add(L)}),P.forEach(L=>{var z,D,N,W,H;let V=(H=(W=(N=(D=(z=S.parent)==null?void 0:z.custom_talent_category)==null?void 0:D.group)==null?void 0:N[y])==null?void 0:W.group)==null?void 0:H[L],I=(V==null?void 0:V.name)||L;s[C][y].includes(I)||s[C][y].push(I);let _=g.querySelector(`[data-subgroup-key="${L}"] input[type="checkbox"]`);_&&(_.checked=!0)});let M=g.querySelector(".talent-pool-checkbox-input");if(M){let L=g.querySelectorAll('.popup-subgroups input[type="checkbox"]'),V=g.querySelectorAll('.popup-subgroups input[type="checkbox"]:checked');M.checked=V.length===L.length&&V.length>0,M.indeterminate=V.length>0&&V.length<L.length}}$.forEach(w=>{w.addEventListener("change",()=>{var z,D,N,W,H,ot;let P=(z=w.closest(".talent-pool-checkbox"))==null?void 0:z.getAttribute("data-subgroup-key"),A=(ot=(H=(W=(N=(D=S.parent)==null?void 0:D.custom_talent_category)==null?void 0:N.group)==null?void 0:W[y])==null?void 0:H.group)==null?void 0:ot[P],M=(A==null?void 0:A.name)||P;m(C,y),w.checked&&n(g,s);let L=s[C][y].indexOf(M);w.checked?L===-1&&s[C][y].push(M):L>-1&&s[C][y].splice(L,1);let V=g.querySelectorAll('.popup-subgroups input[type="checkbox"]'),I=g.querySelectorAll('.popup-subgroups input[type="checkbox"]:checked'),_=g.querySelector(".talent-pool-checkbox-input");_&&(_.classList.remove("indeterminate"),I.length===0?(_.checked=!1,_.indeterminate=!1):I.length===V.length?(_.checked=!0,_.indeterminate=!1):(_.checked=!1,_.indeterminate=!0,_.classList.add("indeterminate")))})})}),Array.from(b).filter(g=>!g.classList.contains("popup-transformed")).forEach(g=>{let C=g.querySelector(".talent-pool-checkbox-input"),y=g.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type="checkbox"]'),$=g.getAttribute("data-key"),F=g.getAttribute("data-group-key");B.forEach(E=>{let O=E.getAttribute("data-key"),R=E.getAttribute("data-group-key");E.querySelectorAll('.popup-subgroups input[type="checkbox"]').forEach(P=>P.checked=!1),s[O]&&s[O][R]&&Object.keys(s[O][R]).forEach(P=>{s[O][R][P]=[]})}),C.addEventListener("change",()=>{if(Y)return;let E=C.checked;n(g,s),s[$]=s[$]||{},s[$][F]=[],y.forEach(O=>{O.checked=E,E&&O.value!=="on"&&s[$][F].push(O.value)})}),y.forEach(E=>{E.addEventListener("change",()=>{if(Y)return;let O=Array.from(y).some(w=>w.checked),R=Array.from(y).filter(w=>w.checked&&w.value!=="on").map(w=>w.value);O&&n(g,s),s[$]=s[$]||{},s[$][F]=R,O?C.checked=!0:C.checked=!1})})}),Array.from(f).filter(g=>!(g.classList.contains("popup-transformed")||g.classList.contains("talent-pool-nested-group")||g.getAttribute("data-key")==="custom_talent_category"&&g.closest(".talent-pool-nested-group"))).forEach(g=>{let C=g.getAttribute("data-key"),y=g.getAttribute("data-group-key"),$=g.querySelector(".indeterminate");$&&($.classList.remove("indeterminate"),$.indeterminate=!1),C==="custom_talent_category"?(s[C]=s[C]||{},s[C][y]=s[C][y]||[]):s[C]=[],g.querySelectorAll("input[type='checkbox']").forEach(E=>{if(E.id){E.id=`popup-${E.id}`;let O=E.closest(".talent-pool-nested-group"),R=E.closest(".popup-subgroups"),w=E.classList.contains("talent-pool-checkbox-input")&&E.closest(".talent-pool-nested-group"),P=E.classList.contains("talent-pool-checkbox-input");if(E.checked&&!O&&!w&&!P)if(C==="custom_talent_category"){let M=E.closest(".talent-pool-checkboxes");if(M&&!M.classList.contains("popup-transformed")){let L=Array.from(g.parentNode.querySelectorAll('.talent-pool-checkboxes[data-key="custom_talent_category"]')),V=L.indexOf(g);L.forEach((_,z)=>{if(z<V){let D=_.querySelector(".talent-pool-checkbox-input"),N=_.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type="checkbox"]');D&&(D.checked=!1),N.forEach(H=>H.checked=!1);let W=_.getAttribute("data-group-key");s[C]&&s[C][W]&&(s[C][W]=[])}});let I=g.querySelector(".talent-pool-checkbox-input");I&&!I.checked&&(I.checked=!0),s[C][y]=s[C][y]||[],E.value!=="on"&&E.value!==y&&!o(E.value,S)&&!s[C][y].includes(E.value)&&s[C][y].push(E.value)}}else E.value!=="on"&&!s[C].includes(E.value)&&s[C].push(E.value);E.addEventListener("change",M=>{let L=E.closest(".talent-pool-nested-group")||E.closest(".popup-transformed")||g.classList.contains("popup-transformed"),V=E.classList.contains("talent-pool-checkbox-input")&&E.closest(".talent-pool-nested-group"),I=E.classList.contains("talent-pool-checkbox-input");if(!L&&!V&&!I){let _=M.target.value;if(C==="custom_talent_category"){if(s[C][y]=s[C][y]||[],_!=="on"&&_!==y)if(M.target.checked)s[C][y].includes(_)||s[C][y].push(_);else{let D=s[C][y].indexOf(_);D>-1&&s[C][y].splice(D,1)}}else if(_!=="on")if(M.target.checked)s[C].push(_);else{let D=s[C].indexOf(_);D>-1&&s[C].splice(D,1)}let z=new CustomEvent("PopupValueStored",{detail:s});document.dispatchEvent(z)}});let A=E.nextElementSibling;A&&A.tagName==="LABEL"&&A.htmlFor&&(A.htmlFor=`popup-${A.htmlFor}`)}})});let U=new CustomEvent("PopupValueStored",{detail:s});document.dispatchEvent(U),c.querySelectorAll(".talent-pool-dropdown-button").forEach(g=>{g.addEventListener("click",C=>{S.dropdownButtonHandler(C)})});let tt=document.createElement("div");tt.classList.add("form-container"),d.appendChild(c),c.appendChild(tt),document.body.appendChild(i);let rt=new CustomEvent("model-open",{detail:{container:i,formContainer:tt}});document.dispatchEvent(rt)}),S.sidebar.appendChild(t)}var K=class{constructor(t){this.container=t.container,this.talentPool=t.talentPool,this.parent=t.parent,this.storedValue={},this.counter=t.counter,this.normalize=this.parent.normalize,this.labels=t.labels,this.popupTitle=t.popupTitle,this._events={},this.filterSidebar(),this.reset()}on(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)}emit(t,e){this._events[t]&&this._events[t].forEach(o=>o(e))}triggerChange(){this.emit("onChange",this.storedValue)}filterSidebar(){let t=document.createElement("div");t.classList.add("talent-pool-filter-sidebar");let e=document.createElement("div");e.classList.add("talent-pool-contain"),e.innerHTML='<div class="talent-pool-counter"><div class="counter-loading"></div><h4 class="total-count"></h4></div>';let o=document.createElement("div");o.classList.add("talent-pool-reset"),o.innerHTML=`${this.labels.resetLabel}`,e.appendChild(o),t.appendChild(e),this.container.appendChild(t),this.sidebar=t;let n=document.createElement("div");n.classList.add("cobalt_search"),n.innerHTML=`<input type="text" id="search" placeholder="${this.labels.searchPlaceholder}"></input>`,n.innerHTML+=' <span><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-hidden="true"><g id="Search1_layer"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></g></svg></span>',this.sidebar.appendChild(n);let i=document.createElement("div");i.classList.add("talent-pool-popup-title"),i.innerHTML=`<h4>${this.popupTitle}</h4>`,this.sidebar.appendChild(i)}updateData(t){let e=JSON.parse(JSON.stringify(this.storedValue));for(this.talentPool=t;this.sidebar.children.length>3;)this.sidebar.removeChild(this.sidebar.lastChild);this.parent&&(this.parent.talentPool=t,typeof this.parent.renderSidebar=="function"&&this.parent.renderSidebar()),this.storedValue=e,setTimeout(()=>{var o,n,i;for(let d in e){let c=e[d];if(typeof c=="object"&&!Array.isArray(c))for(let l in c){let a=c[l];if(typeof a=="object"&&!Array.isArray(a))for(let h in a){let u=a[h];if(Array.isArray(u))if(u.length===1&&u[0]==="selected"){let r=document.getElementById(`talent-pool-${d}-${l}-${h}`);r&&(r.checked=!0)}else if(u.length===1&&u[0]===h){let r=document.getElementById(`talent-pool-${d}-${l}-${h}`);r&&(r.checked=!0)}else{u.forEach(p=>{let s=document.getElementById(`talent-pool-${d}-${l}-${h}-${p}`);s&&(s.checked=!0)});let r=(n=(o=this.parent.custom_talent_category.group[l])==null?void 0:o.group)==null?void 0:n[h];if(r&&r.type!=="simple"){let p=r?this.getSimpleOptionsData(r.values||[]).length:0,s=u.length,m=document.getElementById(`talent-pool-${d}-${l}-${h}`);m&&p>0&&(m.checked=s===p,m.indeterminate=s>0&&s<p,m.classList.toggle("indeterminate",m.indeterminate))}}}else if(Array.isArray(a)){a.forEach(p=>{let s=document.getElementById(`talent-pool-${d}-${p}`);s&&(s.checked=!0)});let h=this.getSimpleOptionsData(((i=this.parent.custom_talent_category.group[l])==null?void 0:i.values)||[]).length,u=a.length,r=document.getElementById(`talent-pool-${d}-${l}`);r&&(r.checked=u===h,r.indeterminate=u>0&&u<h,r.classList.toggle("indeterminate",r.indeterminate))}}else Array.isArray(c)&&c.forEach(l=>{let a=document.getElementById(`talent-pool-${d}-${l}`);a&&(a.checked=!0)})}for(let d in e){let c=e[d];if(typeof c=="object"&&!Array.isArray(c))for(let l in c){let a=c[l];typeof a=="object"&&!Array.isArray(a)&&this.updateParentCheckboxState(d,l)}}this.triggerChange()},0)}rangeSlider(t){this.rangeSliderOption=t;let e=new J(it(j({},t),{formateCurrency:this.parent.formateCurrency.bind(this.parent)})),o=e.initialize();this.sidebar.appendChild(o);let n=e.getValue();this.filterBySalary(n),e.on("change",i=>{this.filterBySalary(i)}),lt(this)}filterBySalary({minValue:t,maxValue:e}){this.storedValue.t_desired_salary={minValue:t,maxValue:e},this.triggerChange()}getOptionsData(t=null,e=[]){if(!t)return;let o=new Set;return this.talentPool.forEach(n=>{n.properties[t]&&!e.includes(n.properties[t])&&o.add(n.properties[t])}),Array.from(o).map(n=>({label:n,value:n}))}getSimpleOptionsData(t=null){if(t)return t.map(e=>({label:e,value:e}))}addRemoveValueInStoredValue({key:t=null,value:e=null,groupKey:o=null}){if(!(!t||!e)){if(o){this.storedValue[o]=this.storedValue[o]||{},this.storedValue[o][t]=this.storedValue[o][t]||[];let n=this.storedValue[o][t],i=n.indexOf(e);i>-1?n.splice(i,1):n.push(e)}else{this.storedValue[t]=this.storedValue[t]||[];let n=this.storedValue[t].indexOf(e);n>-1?this.storedValue[t].splice(n,1):this.storedValue[t].push(e)}this.triggerChange()}}buildOptionsDataGroup({title:t="",key:e=null,group:o={filteredGroup}}){if(!e)return;if(Object.values(o).some(i=>i.type==="group"&&i.group))this.buildNestedOptionsDataGroup({title:t,key:e,group:o});else{if(t){let i=document.createElement("h3");i.textContent=t,this.sidebar.appendChild(i)}this.storedValue[e]={},Object.keys(o).forEach(i=>{let d=o[i];this.storedValue[e][i]=[],this.buildOptionsData({isCustom:!0,values:d.values||[],type:d.type||"checkbox",key:e,groupKey:i,exclude:d.exclude||[],placeholder:d.placeholder||"",title:d.name||i})})}}dropdownButtonHandler(t){t.target.closest(".talent-pool-checkboxes").classList.toggle("active")}buildOptionsData({isCustom:t=!1,values:e=[],type:o="checkbox",key:n=null,exclude:i=[],placeholder:d="",title:c="",groupKey:l=null,replace:a=null}){if(!n)return;let h=t?this.getSimpleOptionsData(e):this.getOptionsData(n,i),u=document.createElement("div");if(u.classList.add("talent-pool-checkboxes"),u.setAttribute("data-key",n),t&&l&&u.setAttribute("data-group-key",l),c&&!t){let r=document.createElement("h3");r.textContent=c,u.appendChild(r),this.storedValue[n]=[]}if(c&&t){let r=document.createElement("div");r.classList.add("talent-pool-dropdown-button"),r.textContent="",r.addEventListener("click",m=>{this.dropdownButtonHandler(m)}),u.appendChild(r);let p=document.createElement("input");p.type="checkbox",p.id=`talent-pool-${n}-${l}`,p.classList.add("talent-pool-checkbox-input");let s=document.createElement("label");s.htmlFor=p.id,s.textContent=c,u.appendChild(p),u.appendChild(s),p.addEventListener("change",m=>{this.storedValue[n]||(this.storedValue[n]={}),this.storedValue[n][l]||(this.storedValue[n][l]=[]),m.target.checked?(this.storedValue[n][l]=h.map(f=>f.value),h.forEach(f=>{let b=document.getElementById(`talent-pool-${n}-${f.value}`);b&&(b.checked=!0)})):(this.storedValue[n][l]=[],h.forEach(f=>{let b=document.getElementById(`talent-pool-${n}-${f.value}`);b&&(b.checked=!1)})),m.target.indeterminate=!1,m.target.classList.remove("indeterminate"),this.triggerChange()})}if(o==="checkbox"){let r=document.createElement("div");r.classList.add("talent-pool-checkbox-group-wrapper"),c&&t&&r.classList.add("dropdown-container"),h.forEach(p=>{let s=document.createElement("div");s.classList.add("talent-pool-checkbox");let m=document.createElement("input");m.type="checkbox",m.value=p.value,l&&n==="custom_talent_category"?m.id=`talent-pool-${n}-${l}-${p.value}`:m.id=`talent-pool-${n}-${p.value}`;let f=document.createElement("label");if(f.htmlFor=m.id,a){let b=a[p.label]||p.label;f.textContent=b}else f.textContent=`${p.label}`;s.appendChild(m),s.appendChild(f),n!=="custom_talent_category"?m.addEventListener("change",()=>{this.addRemoveValueInStoredValue({key:n,value:p.value}),this.triggerChange()}):m.addEventListener("change",()=>{this.addRemoveValueInStoredValue({groupKey:n,key:l,value:p.value});let b=h.length,x=this.storedValue[n][l].length,v=document.getElementById(`talent-pool-${n}-${l}`);v&&(v.checked=b===x,v.classList.toggle("indeterminate",x>0&&x<b),v.indeterminate=x>0&&x<b),this.triggerChange()}),r.appendChild(s)}),u.appendChild(r)}else{let r=document.createElement("select");r.classList.add("talent-pool-select");let p=document.createElement("option");p.value="",p.textContent=d||"Select an option",r.appendChild(p),h.forEach(s=>{let m=document.createElement("option");m.value=s.value,m.textContent=s.label,r.appendChild(m)}),u.appendChild(r)}this.sidebar.appendChild(u)}buildNestedOptionsData({isCustom:t=!1,values:e=[],type:o="checkbox",key:n=null,exclude:i=[],placeholder:d="",title:c="",groupKey:l=null,subGroupKey:a=null,container:h=null}){if(!n)return;let u=t?this.getSimpleOptionsData(e):this.getOptionsData(n,i),r=h||document.createElement("div");if(r.classList.add("talent-pool-checkboxes","nested"),r.setAttribute("data-key",n),t&&l&&r.setAttribute("data-group-key",l),a&&r.setAttribute("data-subgroup-key",a),c&&t){let p=document.createElement("div");p.classList.add("talent-pool-dropdown-button","nested"),p.textContent="",p.addEventListener("click",f=>{this.dropdownButtonHandler(f)}),r.appendChild(p);let s=document.createElement("input");s.type="checkbox",s.id=a?`talent-pool-${n}-${l}-${a}`:`talent-pool-${n}-${l}`,s.classList.add("talent-pool-checkbox-input","nested");let m=document.createElement("label");m.htmlFor=s.id,m.textContent=c,m.classList.add("nested"),r.appendChild(s),r.appendChild(m),s.addEventListener("change",f=>{a?(this.storedValue[n]||(this.storedValue[n]={}),this.storedValue[n][l]||(this.storedValue[n][l]={}),this.storedValue[n][l][a]||(this.storedValue[n][l][a]=[]),f.target.checked?(this.storedValue[n][l][a]=u.map(b=>b.value),u.forEach(b=>{let x=document.getElementById(`talent-pool-${n}-${l}-${a}-${b.value}`);x&&(x.checked=!0)})):(this.storedValue[n][l][a]=[],u.forEach(b=>{let x=document.getElementById(`talent-pool-${n}-${l}-${a}-${b.value}`);x&&(x.checked=!1)})),this.updateParentCheckboxState(n,l),setTimeout(()=>this.updateParentCheckboxState(n,l),10)):(this.storedValue[n]||(this.storedValue[n]={}),this.storedValue[n][l]||(this.storedValue[n][l]=[]),f.target.checked?(this.storedValue[n][l]=u.map(b=>b.value),u.forEach(b=>{let x=document.getElementById(`talent-pool-${n}-${b.value}`);x&&(x.checked=!0)})):(this.storedValue[n][l]=[],u.forEach(b=>{let x=document.getElementById(`talent-pool-${n}-${b.value}`);x&&(x.checked=!1)}))),f.target.indeterminate=!1,f.target.classList.remove("indeterminate"),this.triggerChange()})}if(o==="checkbox"){let p=document.createElement("div");p.classList.add("talent-pool-checkbox-group-wrapper","nested"),c&&t&&p.classList.add("dropdown-container"),u.forEach(s=>{let m=document.createElement("div");m.classList.add("talent-pool-checkbox","nested");let f=document.createElement("input");f.type="checkbox",f.value=s.value,f.id=a?`talent-pool-${n}-${l}-${a}-${s.value}`:`talent-pool-${n}-${l}-${s.value}`,f.classList.add("nested");let b=document.createElement("label");b.htmlFor=f.id,b.textContent=s.label,b.classList.add("nested"),m.appendChild(f),m.appendChild(b),a?f.addEventListener("change",()=>{this.addRemoveValueInNestedGroup({key:n,groupKey:l,subGroupKey:a,value:s.value});let x=u.length,v=this.storedValue[n][l][a].length,k=document.getElementById(`talent-pool-${n}-${l}-${a}`);k&&(k.checked=x===v,k.classList.toggle("indeterminate",v>0&&v<x),k.indeterminate=v>0&&v<x),this.updateParentCheckboxState(n,l),setTimeout(()=>this.updateParentCheckboxState(n,l),10),this.triggerChange()}):f.addEventListener("change",()=>{this.addRemoveValueInStoredValue({groupKey:n,key:l,value:s.value});let x=u.length,v=this.storedValue[n][l].length,k=document.getElementById(`talent-pool-${n}-${l}`);k&&(k.checked=x===v,k.classList.toggle("indeterminate",v>0&&v<x),k.indeterminate=v>0&&v<x),this.triggerChange()}),p.appendChild(m)}),r.appendChild(p)}h||this.sidebar.appendChild(r)}addRemoveValueInNestedGroup({key:t=null,groupKey:e=null,subGroupKey:o=null,value:n=null}){if(!t||!e||!o||!n)return;this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={}),this.storedValue[t][e][o]||(this.storedValue[t][e][o]=[]);let i=this.storedValue[t][e][o],d=i.indexOf(n);d>-1?i.splice(d,1):i.push(n),this.triggerChange()}buildNestedOptionsDataGroup({title:t="",key:e=null,group:o={}}){if(e){if(t){let n=document.createElement("h3");n.classList.add("custom_talent"),n.textContent=t,this.sidebar.appendChild(n)}this.storedValue[e]={},Object.keys(o).forEach(n=>{let i=o[n];if(i.type==="group"&&i.group){let d=document.createElement("div");d.classList.add("talent-pool-checkboxes","talent-pool-nested-group","nested"),d.setAttribute("data-key",e),d.setAttribute("data-group-key",n);let c=document.createElement("div");c.classList.add("talent-pool-dropdown-button","nested"),c.textContent="",c.addEventListener("click",u=>{this.dropdownButtonHandler(u)}),d.appendChild(c);let l=document.createElement("input");l.type="checkbox",l.id=`talent-pool-${e}-${n}`,l.classList.add("talent-pool-checkbox-input","nested");let a=document.createElement("label");a.htmlFor=l.id,a.textContent=i.name||n,a.classList.add("nested"),d.appendChild(l),d.appendChild(a);let h=document.createElement("div");h.classList.add("talent-pool-checkbox-group-wrapper","dropdown-container","nested"),this.storedValue[e][n]={},l.addEventListener("change",u=>{let r=Object.keys(i.group);u.target.checked?r.forEach(p=>{let s=i.group[p],m=document.getElementById(`talent-pool-${e}-${n}-${p}`);m&&(m.checked=!0),s.type==="simple"?this.storedValue[e][n][p]=s.values||[p]:s.values&&s.values.length>0?(this.storedValue[e][n][p]=[...s.values],s.values.forEach(f=>{let b=document.getElementById(`talent-pool-${e}-${n}-${p}-${f}`);b&&(b.checked=!0)})):this.storedValue[e][n][p]=["selected"]}):r.forEach(p=>{let s=i.group[p],m=document.getElementById(`talent-pool-${e}-${n}-${p}`);m&&(m.checked=!1),this.storedValue[e][n][p]=[],s.values&&s.values.length>0&&s.values.forEach(f=>{let b=document.getElementById(`talent-pool-${e}-${n}-${p}-${f}`);b&&(b.checked=!1)})}),u.target.indeterminate=!1,u.target.classList.remove("indeterminate"),this.triggerChange()}),Object.keys(i.group).forEach(u=>{let r=i.group[u];this.storedValue[e][n][u]=[];let p=document.createElement("div");p.classList.add("talent-pool-nested-subgroup","nested"),r.type==="simple"?this.buildSimpleNestedCategory({key:e,groupKey:n,subGroupKey:u,title:r.name||u,container:p}):!r.values||r.values.length===0?this.buildEmptyNestedGroup({key:e,groupKey:n,subGroupKey:u,title:r.name||u,container:p}):this.buildNestedOptionsData({isCustom:!0,values:r.values||[],type:r.type||"checkbox",key:e,groupKey:n,subGroupKey:u,exclude:r.exclude||[],placeholder:r.placeholder||"",title:r.name||u,container:p}),h.appendChild(p)}),d.appendChild(h),this.sidebar.appendChild(d)}else this.storedValue[e][n]=[],this.buildOptionsData({isCustom:!0,values:i.values||[],type:i.type||"checkbox",key:e,groupKey:n,exclude:i.exclude||[],placeholder:i.placeholder||"",title:i.name||n})})}}buildSimpleNestedCategory({key:t=null,groupKey:e=null,subGroupKey:o=null,title:n="",container:i=null}){if(!t||!e||!o)return;let d=document.createElement("div");d.classList.add("talent-pool-checkbox","nested","simple-category");let c=document.createElement("input");c.type="checkbox",c.id=`talent-pool-${t}-${e}-${o}`,c.classList.add("talent-pool-checkbox-input","nested"),c.value=o;let l=document.createElement("label");if(l.htmlFor=c.id,l.textContent=n,l.classList.add("nested"),d.appendChild(c),d.appendChild(l),c.addEventListener("change",a=>{var h;if(this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={}),this.storedValue[t][e][o]||(this.storedValue[t][e][o]=[]),a.target.checked){let u=this.parent.custom_talent_category.group[e],r=(h=u==null?void 0:u.group)==null?void 0:h[o],p=(r==null?void 0:r.values)||[o];this.storedValue[t][e][o]=[...p]}else this.storedValue[t][e][o]=[];this.updateParentCheckboxState(t,e),setTimeout(()=>this.updateParentCheckboxState(t,e),10),this.triggerChange()}),i)i.appendChild(d);else{let a=document.createElement("div");a.classList.add("talent-pool-simple-nested-category","nested"),a.setAttribute("data-key",t),a.setAttribute("data-group-key",e),a.setAttribute("data-subgroup-key",o),a.appendChild(d),this.sidebar.appendChild(a)}}buildEmptyNestedGroup({key:t=null,groupKey:e=null,subGroupKey:o=null,title:n="",container:i=null}){if(!t||!e||!o)return;let d=i||document.createElement("div");d.classList.add("talent-pool-checkboxes","nested","empty-group"),d.setAttribute("data-key",t),d.setAttribute("data-group-key",e),d.setAttribute("data-subgroup-key",o);let c=document.createElement("div");c.classList.add("talent-pool-dropdown-button","nested"),c.textContent="",c.addEventListener("click",u=>{this.dropdownButtonHandler(u)}),d.appendChild(c);let l=document.createElement("input");l.type="checkbox",l.id=`talent-pool-${t}-${e}-${o}`,l.classList.add("talent-pool-checkbox-input","nested");let a=document.createElement("label");a.htmlFor=l.id,a.textContent=n,a.classList.add("nested"),d.appendChild(l),d.appendChild(a),l.addEventListener("change",u=>{this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={}),this.storedValue[t][e][o]||(this.storedValue[t][e][o]=[]),u.target.checked?this.storedValue[t][e][o]=["selected"]:this.storedValue[t][e][o]=[],this.updateParentCheckboxState(t,e),this.triggerChange()});let h=document.createElement("div");h.classList.add("talent-pool-checkbox-group-wrapper","dropdown-container","nested","empty"),h.innerHTML='<div class="empty-group-placeholder nested">No specific options</div>',d.appendChild(h),i||this.sidebar.appendChild(d)}updateParentCheckboxState(t,e){let o=document.getElementById(`talent-pool-${t}-${e}`);if(!o)return;let n=this.parent.custom_talent_category.group[e];if(!n||!n.group)return;this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={});let i=Object.keys(n.group),d=this.storedValue[t][e]||{},c=0,l=0,a=0,h=i.length;i.forEach(s=>{let m=d[s]||[],f=n.group[s],b=document.getElementById(`talent-pool-${t}-${e}-${s}`);if(m.length===0){a++;return}if(f.type==="simple")c++;else if(f.values&&f.values.length>0){let x=f.values.length,v=m.length;v===x?c++:v>0&&l++}else c++});let u=c===h&&h>0,r=a===h,p=l>0||c>0&&a>0;u?(o.checked=!0,o.indeterminate=!1,o.classList.remove("indeterminate")):r?(o.checked=!1,o.indeterminate=!1,o.classList.remove("indeterminate")):p&&(o.checked=!1,o.indeterminate=!0,o.classList.add("indeterminate")),o.classList.toggle("indeterminate",o.indeterminate),this.updateParentGroupCounter(t,e)}updateAllParentGroupCounters(){if(!this.parent||!this.parent.custom_talent_category)return;let t=this.parent.custom_talent_category.group;for(let e in t){let o=t[e];o.type==="group"&&o.group&&this.updateParentGroupCounter("custom_talent_category",e)}}updateParentGroupCounter(t,e){if(t!=="custom_talent_category")return;let o=document.getElementById(`talent-pool-${t}-${e}`);if(!o)return;let n=o.nextElementSibling;if(!n)return;let i=n.querySelector(".talent-pool-counter-label");if(!i)return;this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={});let d=this.storedValue[t][e]||{},c=0,l=!1;if(Object.keys(d).forEach(a=>{if((d[a]||[]).length>0){l=!0;let u=document.getElementById(`talent-pool-${t}-${e}-${a}`);if(u){let r=u.nextElementSibling,p=r==null?void 0:r.querySelector(".talent-pool-counter-label");if(p){let s=p.textContent.match(/\((\d+)\)/),m=s?parseInt(s[1]):0;c+=m}}}}),!l){c=0;let a=this.parent.custom_talent_category.group[e];a&&a.group&&Object.keys(a.group).forEach(h=>{let u=document.getElementById(`talent-pool-${t}-${e}-${h}`);if(u){let r=u.nextElementSibling,p=r==null?void 0:r.querySelector(".talent-pool-counter-label");if(p){let s=p.textContent.match(/\((\d+)\)/),m=s?parseInt(s[1]):0;c+=m}}})}i.textContent=` (${c})`}reset(){document.querySelectorAll('.talent-pool-filter-sidebar input[type="checkbox"]:checked').forEach(e=>{e.checked=!1})}};var et=class{constructor(t={}){this.options=t,this.custom_talent_category=t.custom_talent_category,this.container=document.querySelector(t.container),this.talentPool=t.data||[],this.sidebar=new K({container:this.container,talentPool:this.talentPool,parent:this,labels:this.options.labels,popupTitle:this.options.popupTitle}),this.sidebar.Filter=this.Filter,this.Filter=new Q({container:this.container,sidebar:this.sidebar,talentPool:this.talentPool,normalize:this.normalize.bind(this),getSplitPattern:this.getSplitPattern.bind(this),labels:this.options.labels,itemsPerPageShow:this.options.itemsPerPageShow,loadingText:this.options.loadingText,InnerPageLink:this.options.InnerPageLink,formateCurrency:this.formateCurrency.bind(this)}),this.sidebar.Filter=this.Filter,this.counter=new X({sidebar:this.sidebar,Filter:this.Filter,talentPool:this.talentPool,normalize:this.normalize.bind(this),getSplitPattern:this.getSplitPattern.bind(this),labels:this.options.labels},{container:this.container,Filter:this.Filter}),this.Filter.Counter=this.counter,this.dataSort=new Z({sidebar:this.sidebar,Filter:this.Filter,Counter:this.counter,talentPool:this.talentPool,normalize:this.normalize.bind(this),getSplitPattern:this.getSplitPattern.bind(this),labels:this.options.labels},{container:this.container,Filter:this.Filter,Counter:this.counter}),this.RangeSlider=new J({sidebar:this.sidebar,slider:this.sidebar.rangeSlider}),this.initializeLoading()}renderSidebar(){let t=this.talentPool.map(i=>(i.properties.custom_talent_category||"").trim().toLowerCase()),e=new Set(t.filter(Boolean)),o=this.custom_talent_category.group,n={};for(let[i,d]of Object.entries(o))n[i]=j(j({},d),d.values&&{values:[...d.values]});this.sidebar.buildOptionsData(j({},this.options.t_procedure_txt)),this.sidebar.buildOptionsDataGroup(j({},this.custom_talent_category)),this.sidebar.buildOptionsData(j({},this.options.t_experience_level)),this.sidebar.buildOptionsData(j({},this.options.t_desired_region_1)),this.sidebar.rangeSlider(j({},this.options.t_desired_salary))}normalize(t){return String(t||"").normalize("NFKC").replace(/[^\x20-\x7E]/g,"").toLowerCase().replace(/[_\s]+/g," ").replace(/\s*&\s*/g," and ").replace(/\s+and\s+/g," and ").replace(/\b_[a-z]$/i,"").trim()}getSplitPattern(t){return t.includes(";")?/[;]/:(t.match(/,/g)||[]).length>1||t.length<100?/[;,]/:/[;]/}formateCurrency(t,e="\u20B9"){let o=parseFloat(t);return isNaN(o)?t:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o).replace("\u20B9",e)}initializeLoading(){let t=document.querySelector(".talent-pool-loading-text");if(t&&this.options.loadingText){if(!t.querySelector("h4")){let e=document.createElement("h4");e.textContent=this.options.loadingText,t.appendChild(e)}t.style.display="block"}}toggleLoading(t){let e={loading:t?"flex":"none",box:t?"none":"flex",pagination:t?"none":"flex",sidebar:t?"none":"block",sorting:t?"none":"block"},o={loading:document.querySelector(".talent-pool-loading-text"),box:document.querySelector(".talent-pool-filter-box"),pagination:document.querySelector(".pagination_contain"),sidebar:document.querySelector(".talent-pool-filter-sidebar"),sorting:document.querySelector(".talent-pool-sorting-container"),main:document.getElementById("TalentPool")};o.loading&&(o.loading.style.display=e.loading),o.box&&(o.box.style.display=e.box),o.pagination&&(o.pagination.style.display=e.pagination),o.sidebar&&(o.sidebar.style.display=e.sidebar),o.sorting&&(o.sorting.style.display=e.sorting),o.main&&o.main.classList.toggle("add_id",t)}counterLoading(t=!0){let e=this.container.querySelector(".talent-pool-counter");if(!e)return;let o=e.querySelector(".counter-loading");t?o&&(o.style.display="block"):o&&(o.style.display="none")}counerShowLoading(){this.counterLoading(!0)}counerHideLoading(){this.counterLoading(!1)}showLoading(){this.toggleLoading(!0)}hideLoading(){this.toggleLoading(!1)}popupClose(){let t=document.querySelector(".talent-pool-popup-container");t&&(t.remove(),document.body.classList.remove("open-popup"),document.dispatchEvent(new CustomEvent("model-close")))}createCloseButton(t=()=>{}){let e=document.createElement("button");return e.classList.add("talent-pool-close-button"),e.innerHTML='<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"></path></svg>',e.addEventListener("click",()=>{this.popupClose(),t()}),e}};window.TalentPool=et;})();
//# sourceMappingURL=bundle.talentpool.js.map
